# 4. 应用集成

- 模块拼装

## 4.1 应用程序定义

scalebox应用程序通过应用模板文件app.yaml、应用参数文件scalebox.env共同定义。应用模板文件定义了应用模块以及应用模块间的关联，模板中有参数变量。模板参数变量通过环境变量的形式，在应用参数文件来定义。

## 4.1.1 应用模板文件

应用模板文件的缺省名称为app.yaml。文件中的模板参数变量通过 ${var_name}的形式来定义。


## 4.1.2 应用参数文件
应用参数文件的缺省名称为scalebox.env。其中定义了应用模板文件中的参数变量

## 4.1.3 应用解析

```sh
scalebox app create --env-file scalebox.env app.yaml
```

- 解析过程中的模板参数变量的定义优先顺序：
  - 命令行执行的环境变量
  - 命令行指定的环境变量文件：可通过命令行参数--env-file指定，缺省为scalebox.env
  - 用户级环境变量配置文件：${HOME}/.scalebox/
  - 系统级环境变量配置文件：/etc/scalebox/


## 4.2 模块拼装


## 4.3 消息路由设计实现


## 4.4 调试、测试

测试、调试

## 4.5 应用优化

应用优化
